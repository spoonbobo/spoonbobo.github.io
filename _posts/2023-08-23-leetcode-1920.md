---
title: "Leetcode 1920: Clever Encoding Trick"
date: 2023-08-20
layout: post
---

Problem description: Given a zero-based permutation nums (0-indexed), build an array `ans` of the same length where `ans[i] = nums[nums[i]]` for each `0 <= i < nums.length` and return it. A zero-based permutation `nums` is an array of distinct integers from 0 to `nums.length - 1 (inclusive).`

I did not solve this [problem](https://leetcode.com/problems/build-array-from-permutation) successfully in *O(1)* space, what I did is just to give *O(N)* space solution. I am really amazed and learnt a lot by seeing Indecision's tree *O(1)* space [solution](https://leetcode.com/problems/build-array-from-permutation/solutions/1315926/python-o-n-time-o-1-space-w-full-explanation/). Despite both solutions could solve problem in *O(N)* time, however, *O(1)* space seemed to amaze me in a lot of ways that I could not think of when solving the problem. I decided to write this blog for my learning, if you have not yet solve this problem, I hope you would feel the same way as I did! (This blog assumes that you already knew what [Big-O notation](https://en.wikipedia.org/wiki/Big_O_notation) is)

O(N) space approach (my answer)
```cpp
class Solution {
public:
    vector<int> buildArray(vector<int>& nums) {
        vector<int> ans;
        for (int i=0; i<nums.size(); i++)
            ans.push_back(nums[nums[i]]);
        return ans;
    }
};
```

This space approach is using O(N) time but it creates an extra vector for writing the answers.

O(1) space approach (inDecisionTree's answer)
```c++
class Solution {
public:
    vector<int> buildArray(vector<int>& nums) {
        int q = nums.size();
        for (int i=0; i<q; i++)
            nums[i] += q * (nums[nums[i]] % q);
        for (int i=0; i<q; i++)
            nums[i] = nums[i] / q;
        return nums;
    }
};
```

The idea of this to transform every `nums[i]` into encoded form using `a=bq+r` (Euclidean division)[https://handwiki.org/wiki/Euclidean_division#:~:text=In%20arithmetic%2C%20Euclidean%20division%20%E2%80%93%20or%20division%20with,smaller%20than%20the%20absolute%20value%20of%20the%20divisor.], or Division theorem, Eclid's division lemma.

Euclidean division suggested that given two integers $a$ and $b$ 
